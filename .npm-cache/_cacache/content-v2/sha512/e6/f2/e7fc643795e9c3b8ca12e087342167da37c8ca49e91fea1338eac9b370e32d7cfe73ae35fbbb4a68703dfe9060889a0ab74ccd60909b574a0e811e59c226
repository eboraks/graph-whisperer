{"_id":"separate-stream","_rev":"3-4ef7c591d0c211a90ed2e9ebfc0a7c58","name":"separate-stream","dist-tags":{"latest":"1.0.1"},"versions":{"0.0.0":{"name":"separate-stream","version":"0.0.0","description":"Separate one stream into multiple streams","main":"index.js","scripts":{"coverage":"codecov","test":"standard && nyc --reporter=lcov mocha"},"repository":{"type":"git","url":"git://github.com/bergos/separate-stream.git"},"keywords":["readable","separate","split","stream"],"author":{"name":"Thomas Bergwinkl","email":"bergi@axolotlfarm.org","url":"https://www.bergnet.org/people/bergi/card#me"},"license":"MIT","bugs":{"url":"https://github.com/bergos/separate-stream/issues"},"homepage":"https://github.com/bergos/separate-stream","dependencies":{"readable-stream":"^3.6.0"},"devDependencies":{"codecov":"^3.6.5","get-stream":"^5.1.0","isstream":"^0.1.2","mocha":"^7.1.1","nyc":"^15.0.1","standard":"^14.3.3"},"gitHead":"ef92229190962cf29c811cc64f261e9e753447d8","_id":"separate-stream@0.0.0","_nodeVersion":"12.13.0","_npmVersion":"6.12.0","_npmUser":{"name":"bergos","email":"bergi@bergnet.org"},"dist":{"integrity":"sha512-c0YHoqGqg84V+r8JeLxS6M6wPLuLElUah7SdlXOCpahTKBFTvm0C8oTyEkBEMSwSOTBhvlaleiXzjfyMfzVUOw==","shasum":"2dd972fee19e8108a563124ed071c6c8b36e950d","tarball":"https://registry.npmjs.org/separate-stream/-/separate-stream-0.0.0.tgz","fileCount":6,"unpackedSize":8928,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJejk2yCRA9TVsSAnZWagAA4U8P/0+Px1IjAgl09Xk0UQVp\nRERLdb5kc1JfpBJSaCffTaOCIgdbPYi9cAk4byQ2PF6T5Yi2KSQgNarnNvFQ\nE2lJ+TXw4oR1lEj8Htjz5m8rGEE6TyrXO24lwfby+dcmrAZm3ZB//oFVaLKo\nN7Ub2RucmlrQMFq+wUjaxd9JoH34tGpQU9eWTneE+R4rs7VSiNwP1FP5IaDq\n+/UPvEtz4Ywkn3b+WSj/bnH1hlQHKI8dzXiI2VYT33SAFAq6eGPiH0MsnJji\nXejbSCZpBlwkYLns2rDisghBa2zQ8ue1w6unaWd8WSZqJxTdDDjutjR0HSD5\nmnr3i+GOhg2mhv3A2psFQCmUWfulsOAMnQR0n9S52eGS0RvCyL9fAZnfIq+W\n4qiLSGt+vV8UC32X1HS9tFunRdtGdeO7ZPTUltIzujo+rYtctYZTris6D8uX\nFSr5PPfqbodzB0NG2/fnC0CPvrVzOY/Zh+kFJ94InfVApuVdTP0jtDsVuVD1\n78tbS1Y7tNUKGCzhDpdpioI8gsUoc20jX7iLZaH5+wdNOQJAFkq6ovR30uwS\n9NXbefxmmKHzVsz8dWSrtPGemAd1TV42QntOm4x4l+4J0BBC+aVDOkYh4CDR\nsL3XqM+7hbs7TgCnnO+siTONbcu/oHo7bvHp/+uMF1m/MIqLXVzLTSEgXXoU\njM1r\r\n=l/1Z\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIAjpseypk8MAH1j7xFZ/vmlLAYWxItXS4a7nCz02jT/1AiEAxmjV225SlZHnQFKSoUg1AgM3GectwXnfn4CgQolkUKc="}]},"maintainers":[{"name":"bergos","email":"bergi@bergnet.org"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/separate-stream_0.0.0_1586384305872_0.8083667290857397"},"_hasShrinkwrap":false},"1.0.0":{"name":"separate-stream","version":"1.0.0","description":"Separate one stream into multiple streams","main":"index.js","scripts":{"coverage":"codecov","test":"standard && nyc --reporter=lcov mocha"},"repository":{"type":"git","url":"git://github.com/bergos/separate-stream.git"},"keywords":["readable","separate","split","stream"],"author":{"name":"Thomas Bergwinkl","email":"bergi@axolotlfarm.org","url":"https://www.bergnet.org/people/bergi/card#me"},"license":"MIT","bugs":{"url":"https://github.com/bergos/separate-stream/issues"},"homepage":"https://github.com/bergos/separate-stream","dependencies":{"readable-stream":"^3.6.0"},"devDependencies":{"codecov":"^3.6.5","get-stream":"^5.1.0","isstream":"^0.1.2","mocha":"^7.1.1","nyc":"^15.0.1","standard":"^14.3.3"},"gitHead":"22967d0fbe5e0cee034ee25cd09fd2806a1d4e9b","_id":"separate-stream@1.0.0","_nodeVersion":"12.13.0","_npmVersion":"6.12.0","_npmUser":{"name":"bergos","email":"bergi@bergnet.org"},"dist":{"integrity":"sha512-w5fRxTkgsj9RnrrupHwHzSmdVfb3PRh/Btpiu0x+acPvdqXzMMTr4HzNvei0uQb+ENwJMjpCxw/C9VHP4v1DIA==","shasum":"fe3b957b1603c0a1f1bca722f2cec5082772e18d","tarball":"https://registry.npmjs.org/separate-stream/-/separate-stream-1.0.0.tgz","fileCount":6,"unpackedSize":8928,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJejk3fCRA9TVsSAnZWagAAEGIP/A5Mlh8I/L+XJFOPHIR2\nSW7LkgPWxfXg6PTwmthRfcLTg3DJ8/eXbNdckEWu2MedwHqb5I3x227ALOzj\ndTXEfQg6AXhCaQCSWHY/4TMC4o+MuLem51/Grkk9PLffxefPjtlfh+LgpjKc\n7yFF2vq9oslA4kpXbhXtfbnH1uwmcQ1T2TUh1htyPyLvz751KufuAV9lpHj9\nCcX0cHDvg2Wo+bNjm4L5G4dj/q7l1v2QiAhhItsW3X5w7baiLeVR0Ya8JBta\ntz6HIlJSkbYRlEmYQfyL8lfZ0n8Ya0mDSG3blO+4NS2n0qoqKP0OrV/OSOyB\n1SDSys28dMd3PCir5HNKqlvR8AKadzH40tOWlOcX/qXEAH5f00CfW30VVRTT\nTPuHiZ5h/vq4yoWWPZHbjcQ69f2/Nb3TlNI6yJDzradGMcma878EOubtZgA8\n4HF557Of3ous3x9yWvZlV6UDbZud//Cpa+v5LncSbA12X3w4OfDPAlVidUPj\nzWkS4PFJqdHK3qH5pBDYAi83XUYlVfsj7q9L+bAxH1OYsvvrwyywe/Nzcp2p\n7EPPePN9TF6GjQo7ud4zRKg8IbjcWTgEy9x+okfIt8fCtyLaeZpl/T9nLAc/\nrAOpFfceiiunFJfq3BmV6EKdsoItwvclZufyarOO16pwOxWig72cv+olu/Ky\nX2DK\r\n=iAx8\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIGA76VVFlOr3XkE8J7MdcLXoO5UuwhMziIZm0t5bAcAHAiAT9QHq3U/GF/s5NfFJ6iGssfaHXKfYEgXD5WprAGNROg=="}]},"maintainers":[{"name":"bergos","email":"bergi@bergnet.org"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/separate-stream_1.0.0_1586384351355_0.5611926206746627"},"_hasShrinkwrap":false},"1.0.1":{"name":"separate-stream","version":"1.0.1","description":"Separate one stream into multiple streams","main":"index.js","scripts":{"coverage":"codecov","test":"standard && nyc --reporter=lcov mocha"},"repository":{"type":"git","url":"git://github.com/bergos/separate-stream.git"},"keywords":["readable","separate","split","stream"],"author":{"name":"Thomas Bergwinkl","email":"bergi@axolotlfarm.org","url":"https://www.bergnet.org/people/bergi/card#me"},"license":"MIT","bugs":{"url":"https://github.com/bergos/separate-stream/issues"},"homepage":"https://github.com/bergos/separate-stream","dependencies":{"readable-stream":"^3.6.0"},"devDependencies":{"codecov":"^3.6.5","get-stream":"^5.1.0","isstream":"^0.1.2","mocha":"^7.1.1","nyc":"^15.0.1","standard":"^14.3.3"},"gitHead":"ceb136884888d5f9273347981d1b7c12c3990a3b","_id":"separate-stream@1.0.1","_nodeVersion":"12.18.1","_npmVersion":"6.14.5","_npmUser":{"name":"bergos","email":"bergi@bergnet.org"},"dist":{"integrity":"sha512-UKFCzmddW2akOq40YdGehllv5gu6AD3y6nGSVuZuwI1kify2CiW7Zwsxx4ioaNLxx4LZaZMkcjdICHtSxpEpaA==","shasum":"21e85d7c52433df1bb0b39205807be5565ac1dcb","tarball":"https://registry.npmjs.org/separate-stream/-/separate-stream-1.0.1.tgz","fileCount":6,"unpackedSize":10245,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfazZJCRA9TVsSAnZWagAAii8P/0mvvjk8i7uj+g9UYY6f\nBHqEJfaNaICEBNWT7oISsOMN/CjVjxgO9TiOW1aBRzimSh29yxqUC4AwJqmO\n6hpTfx61c9SXwP/XtfF7TMTKqEdc/BHX6InfqfIwp/URQhVYmziS1iscEOiG\nwmJmvBRASn6MNJ6EjMfHMOCUNd2eOsIhdpBP71D+J6J2IPU7zVYwh21dIr/A\nKMYnvaFwdtLscPd2qnRJTHTJjKjfhnUc9gqjV9iHrKVgZobO4u0C7kpItnIb\nz2iS3oiAdzEJVQCVPfc+gB3SNEWpj6hTnI5uj1vvmBp/vGWp35ODowjUbPWj\nnA+cLAwbbXs46HD3LTVgYvpcRAC2nsmkowdF82UlhDVcyQxN+1DBYrHnJEi6\neagqLIQ4C1Xarj0nt9ZodEZCHWkQaShb9Fimvrv8z6Jo9YqZ/pbYxOXPL9Lo\nMpyFS7t90Qn/jg7N60wAkkR9RHkSALNXipQLxFcef3Iih9loJxgH15OQcwmG\n2KdxE5WOQYh93cvdJ+4I/VtUvi387sBcrhm5AD0ppS0IzXizla0YFdvXMmFo\nPw3QcRb4GSZLl7MOP0LVYCI/pgC6L0K6WXOr7N4CLoade57uYhMWBxBEJiUE\noFCtIXyp7tlLo54mvwqlVzAu+4qNeLkdm7P2M2J65o4gNYTsVYShYpFvnvqz\njMMf\r\n=ei8m\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIDEjzbmF/T6KkvHWbvp2ycR8KhmnJRk3Wx+aLG005QROAiEA4M5JeEvs+yneYqppwIZkE7rFIpgexw/vsLYWxetMoOU="}]},"maintainers":[{"name":"bergos","email":"bergi@bergnet.org"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/separate-stream_1.0.1_1600861768604_0.010262528595517573"},"_hasShrinkwrap":false}},"time":{"created":"2020-04-08T22:18:25.872Z","0.0.0":"2020-04-08T22:18:26.000Z","modified":"2022-05-17T11:40:24.778Z","1.0.0":"2020-04-08T22:19:11.508Z","1.0.1":"2020-09-23T11:49:28.694Z"},"maintainers":[{"name":"bergos","email":"bergi@bergnet.org"}],"description":"Separate one stream into multiple streams","homepage":"https://github.com/bergos/separate-stream","keywords":["readable","separate","split","stream"],"repository":{"type":"git","url":"git://github.com/bergos/separate-stream.git"},"author":{"name":"Thomas Bergwinkl","email":"bergi@axolotlfarm.org","url":"https://www.bergnet.org/people/bergi/card#me"},"bugs":{"url":"https://github.com/bergos/separate-stream/issues"},"license":"MIT","readme":"# separate-stream\n\nSeparates the chunks of one writable stream into multiple readable streams.\n\n## Usage\n\nThe package exports the `SeparateStream` class. It can be imported like this:\n\n```javascript\nconst SeparateStream = require('separate-stream')\n```\n\n### SeparateStream ({ change, map, split })\n\nCreates a new instance of `SeparateStream` that implements a `Writable` stream interface.\nAll chunks written to the `Writable` interface are forwarded to a `Readable` stream that is given as an argument to the `change` callback function.\nEvery chunk after the first chunk is handed over to the `split` function that must return a boolean value which must be `true` if a new stream should be started.\nThe `map` callback allows translating incoming chunks before they are forwarded.  \n \nThe following options are supported:\n\n- `async change(stream, chunk)`: A callback function that is called whenever a new stream is started.\n  It will be called at least once for the first chunk.\n  Stream processing will wait until the function returned.\n  (default: `() => {}`)\n- `split(chunk)`: A callback function that controls when to change to the next output stream.\n  A new output stream is started if the function returns `true`.\n  (default: `() => false`)\n- `map(chunk)`: A callback function that translates incoming chunks.\n  (default: `v => v`) \n\n### Example\n\nThis example splits the incoming stream whenever there is an `o` in the chunk.\nThe chunks are translated to upper case.\n\n```javascript\nconst { promisify } = require('util')\nconst { finished, Readable } = require('readable-stream')\nconst SeparateStream = require('..')\n\nasync function main () {\n  const input = new Readable({ objectMode: true, read: () => {} })\n  const separateStream = new SeparateStream({\n    change: stream => {\n      console.log('new stream!')\n      stream.on('data', chunk => console.log(chunk))\n    },\n    split: chunk => {\n      return chunk.includes('o')\n    },\n    map: v => v.toUpperCase()\n  })\n\n  input.push('this')\n  input.push('stream')\n  input.push('is')\n  input.push('separated')\n  input.push('to')\n  input.push('multiple')\n  input.push('output')\n  input.push('streams')\n  input.push(null)\n\n  input.pipe(separateStream)\n\n  await promisify(finished)(separateStream)\n}\n\nmain()\n```\n","readmeFilename":"README.md"}